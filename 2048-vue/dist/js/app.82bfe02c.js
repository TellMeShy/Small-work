(function(t){function n(n){for(var r,a,s=n[0],h=n[1],u=n[2],f=0,l=[];f<s.length;f++)a=s[f],o[a]&&l.push(o[a][0]),o[a]=0;for(r in h)Object.prototype.hasOwnProperty.call(h,r)&&(t[r]=h[r]);c&&c(n);while(l.length)l.shift()();return i.push.apply(i,u||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],r=!0,s=1;s<e.length;s++){var h=e[s];0!==o[h]&&(r=!1)}r&&(i.splice(n--,1),t=a(a.s=e[0]))}return t}var r={},o={app:0},i=[];function a(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=r,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)a.d(e,r,function(n){return t[n]}.bind(null,r));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],h=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var c=h;i.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("097d");var r=e("2b0e"),o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"main"},t._l(t.arr,function(n,r){return e("div",{key:r,staticClass:"row"},t._l(n,function(n,r){return e("div",{key:r,class:"c-"+n+" item"},[t._v(t._s(n>0?n:"0"))])}),0)}),0)])},i=[],a=(e("ac6a"),e("01c8")),s={name:"app",data:function(){return{arr:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Copyarr:[[],[],[],[]],initData:[],haveGrouping:!1,itIsLeft:!1,endGap:!0,middleGap:!0,haveZero:!0,total:0}},methods:{command:function(t){this.WhetherToRotate(t),this.Init(),this.IfInvalid(),this.Rendering(t),this.RandomlyCreate()},WhetherToRotate:function(t){if(38===t||40===t)this.Copyarr=this.ToRotate(this.arr);else if(37===t||39===t){var n=Object(a["a"])(this.arr);this.Copyarr=n.slice(0)}37===t||38===t?this.itIsLeft=!0:39!==t&&40!==t||(this.itIsLeft=!1)},Init:function(){this.initData=this.DataDetails(),this.Copyarr=this.NumberMerger()},IfInvalid:function(){this.MiddleGap(),this.EndPointGap()},Rendering:function(t){this.AddZero(),38!==t&&40!==t||(this.Copyarr=this.ToRotate(this.Copyarr)),console.log("中间有空隙吗？ ".concat(this.middleGap?"有":"没有")),console.log("有可合并数字吗？ ".concat(this.haveGrouping?"有":"没有")),console.log("最边上有空隙吗？ ".concat(this.endGap?"有":"没有"))},RandomlyCreate:function(){if(this.haveGrouping||this.endGap||this.middleGap){var t=this.Copyarr,n=[],e=0,r=0;t.forEach(function(t,e){t.forEach(function(t,r){0===t&&n.push({x:e,y:r})})}),e=Math.floor(Math.random()*n.length),r=Math.floor(10*Math.random())%3===0?4:2,this.Copyarr[n[e].x][n[e].y]=r}else console.log(this.haveGrouping),alert("抱歉你失败了");this.arr=this.Copyarr},DataDetails:function(){var t=this,n=[],e=[];this.haveZero=!1,this.Copyarr.forEach(function(e,r){e.forEach(function(e,o){0!==e&&n.push({row:r,col:o,content:e}),0===e&&(t.haveZero||(t.haveZero=!0))})});for(var r=function(t){e[t]=n.filter(function(n){return n.row===t})},o=0;o<this.Copyarr.length;o++)r(o);return e},NumberMerger:function(){this.haveGrouping=!1;var t=[[],[],[],[]],n=[[],[],[],[]];if(this.initData.forEach(function(t,e){t.forEach(function(t,r){n[e][r]=t.content})}),t=[[],[],[],[]],this.itIsLeft)for(var e=0;e<n.length;e++){var r=[],o=0;while(o<n[e].length)n[e][o]===n[e][o+1]?(r.push(n[e][o]+n[e][o+1]),o+=2,this.haveGrouping=!0):(r.push(n[e][o]),o++);t[e]=r}else for(var i=0;i<n.length;i++){var a=[],s=n[i].length-1;while(s>=0)n[i][s]===n[i][s-1]?(a.push(n[i][s]+n[i][s-1]),s-=2,this.haveGrouping=!0):(a.push(n[i][s]),s--);t[i]=a}return t},MiddleGap:function(){var t=[[],[],[],[]],n=[];this.initData.forEach(function(n,e){n.forEach(function(r,o){"undefined"!==typeof n[o+1]&&t[e].push(r.col-n[o+1].col)})}),t.forEach(function(t){n.push(t.reduceRight(function(t,n){return t+n},0))}),n=n.map(function(n,e){return Math.abs(n/t[e].length)}),n.some(function(t){return t>1}),this.middleGap=n.some(function(t){return t>1})},EndPointGap:function(){var t;this.endGap=!0;var n=this.initData;this.itIsLeft?(t=0,this.endGap=n.some(function(n){return 0!==n.length&&n[0].col!==t})):(t=3,this.endGap=n.some(function(n){return 0!==n.length&&n[n.length-1].col!==t}))},AddZero:function(){for(var t=this.Copyarr,n=0;n<t.length;n++){this.itIsLeft||t[n].reverse();while(t[n].length!==this.arr[0].length)this.itIsLeft?t[n].push(0):t[n].unshift(0)}this.Copyarr=t},ToRotate:function(t){for(var n=[[],[],[],[]],e=0;e<t.length;e++)for(var r=0;r<t[e].length;r++)n[e][r]=t[r][e];return n}},mounted:function(){var t=this;this.RandomlyCreate(),window.onkeydown=function(n){switch(n.keyCode){case 37:console.log("←"),t.command(n.keyCode);break;case 38:console.log("↑"),t.command(n.keyCode);break;case 39:t.command(n.keyCode),console.log("→");break;case 40:console.log("↓"),t.command(n.keyCode);break}}}},h=s,u=(e("7faf"),e("2877")),c=Object(u["a"])(h,o,i,!1,null,null,null);c.options.__file="App.vue";var f=c.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(f)}}).$mount("#app")},"7faf":function(t,n,e){"use strict";var r=e("8fba"),o=e.n(r);o.a},"8fba":function(t,n,e){}});
//# sourceMappingURL=app.82bfe02c.js.map